---
emoji: π
title: μ΄λ©”μΌ
date: '2023-03-21 00:00:00'
author: μµλ―Όμ„
tags: Network, Email, SMTP, HTTP, POP, IMAP
categories: ComputerNetwork
---
# Electronic mail

![email.png](email.png)
**3κ°μ μ£Ό μ”μ†** :

- User agent
- Mail server
- Simple Mail Transfer Protocol : SMTP

## User agent

1. ν΄λΌμ΄μ–ΈνΈ: ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ—κ² μ„λΉ„μ¤λ¥Ό μ”μ²­ν•λ” μ»΄ν“¨ν„°λ‚ λ””λ°”μ΄μ¤λ¥Ό μλ―Έν•λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ›Ή λΈλΌμ°μ €, μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…, λ¨λ°”μΌ μ•± λ“± λ‹¤μ–‘ν• ν•νƒλ΅ μ΅΄μ¬ν•  μ μλ‹¤. μ‚¬μ©μλ” ν΄λΌμ΄μ–ΈνΈλ¥Ό ν†µν•΄ μ›Ή μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚΄κ³ , μ„λ²„λ΅λ¶€ν„° μ‘λ‹µμ„ λ°›μ•„ ν™”λ©΄μ— μ›Ή νμ΄μ§€λ¥Ό λ λ”λ§ν•κ±°λ‚ μ„λΉ„μ¤λ¥Ό μ΄μ©ν•  μ μλ‹¤. μλ¥Ό λ“¤μ–΄, μ‚¬μ©μκ°€ μ›Ή λΈλΌμ°μ €λ¥Ό ν†µν•΄ μ›Ή νμ΄μ§€λ¥Ό μ”μ²­ν•λ©΄ μ›Ή λΈλΌμ°μ €κ°€ ν΄λΌμ΄μ–ΈνΈ μ—­ν• μ„ μν–‰ν•μ—¬ μ”μ²­μ„ μ„λ²„μ— μ „λ‹¬ν•κ³ , μ„λ²„λ΅λ¶€ν„° λ°›μ€ μ‘λ‹µμ„ λ λ”λ§ν•μ—¬ μ‚¬μ©μμ—κ² λ³΄μ—¬μ¤€λ‹¤.
2. User Agent: User Agentλ” HTTP μ”μ²­μ„ λ³΄λ‚΄λ” ν΄λΌμ΄μ–ΈνΈμ μ†ν”„νΈμ›¨μ–΄λ‚ μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‹λ³„ν•λ” λ¬Έμμ—΄ μ •λ³΄λ¥Ό μλ―Έν•λ‹¤. μ΄ μ •λ³΄λ” HTTP ν—¤λ”μ— ν¬ν•¨λμ–΄ μ„λ²„μ—κ² μ „λ‹¬λλ‹¤. User Agentλ” ν΄λΌμ΄μ–ΈνΈκ°€ μ–΄λ–¤ μ†ν”„νΈμ›¨μ–΄λ‚ μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‚¬μ©ν•κ³  μλ”μ§€λ¥Ό μ„λ²„μ—κ² μ•λ ¤μ£Όλ” μ—­ν• μ„ ν•λ‹¤. μλ¥Ό λ“¤μ–΄, μ›Ή λΈλΌμ°μ €μ User Agent μ •λ³΄λ” μ›Ή μ„λ²„μ—κ² μ–΄λ–¤ λΈλΌμ°μ €μ™€ λ²„μ „μ„ μ‚¬μ©ν•κ³  μλ”μ§€λ¥Ό μ•λ ¤μ£Όμ–΄ μ›Ή μ„λ²„λ” κ·Έμ— λ§λ” μ›Ή νμ΄μ§€λ¥Ό μ κ³µν•  μ μλ‹¤.
3. **Mail User Agent(MUA)**: μ„ κ·Έλ¦Όμ— λ‚μ¨ User Agentλ” μ΄λ¥Ό λ§ν•λ‹¤. λ©”μΌ μ‚¬μ©μ μ—μ΄μ „νΈ(Mail User Agent, MUA)λ” μ΄λ©”μΌ ν΄λΌμ΄μ–ΈνΈ μ†ν”„νΈμ›¨μ–΄λ΅, μ΄λ©”μΌμ„ λ³΄λ‚΄κ³  λ°›λ” λ° μ‚¬μ©λλ‹¤. MUAλ” μ΄λ©”μΌ μ‚¬μ©μμ μ”μ²­μ— λ”°λΌ μ΄λ©”μΌμ„ μ‘μ„±, λ³΄λ‚΄κΈ°, μμ‹ , μ½κΈ°, μ‚­μ  λ“±μ μ‘μ—…μ„ μν–‰ν•λ‹¤.
   MUAλ” μ‚¬μ©μκ°€ μ΄λ©”μΌμ„ μ‘μ„±ν•  λ• μ΄λ©”μΌμ μμ‹ μ, μ λ©, λ³Έλ¬Έ, μ²¨λ¶€ νμΌ λ“±μ„ μ…λ ¥ν•κ³ , μ‘μ„±ν• μ΄λ©”μΌμ„ λ©”μΌ μ„λ²„μ— λ³΄λ‚΄λ” μ—­ν• μ„ μν–‰ν•λ‹¤. λν•, λ©”μΌ μ„λ²„λ΅λ¶€ν„° μ΄λ©”μΌμ„ μμ‹ ν•μ—¬ μ‚¬μ©μμ λ©”μΌν•¨μ— μ΄λ©”μΌμ„ λ³΄κ΄€ν•κ³ , μ‚¬μ©μκ°€ μ΄λ©”μΌμ„ μ½κ³ , μ‚­μ ν•κ³ , μ΄λ©”μΌμ— λ‹µμ¥ν•κ³ , μ „λ‹¬ν•κ³ , λ‹¤μ–‘ν• λ©”μΌ κ΄€λ¦¬ μ‘μ—…μ„ μν–‰ν•λ” λ“±μ κΈ°λ¥μ„ μ κ³µν•λ‹¤.

ν΄λΌμ΄μ–ΈνΈλ” μ‚¬μ©μκ°€ μ›Ή μ„λ²„μ— μ ‘μ†ν•μ—¬ μ„λΉ„μ¤λ¥Ό μ”μ²­ν•λ” λ””λ°”μ΄μ¤λ‚ μ†ν”„νΈμ›¨μ–΄λ¥Ό μλ―Έν•λ©°, User Agentλ” ν΄λΌμ΄μ–ΈνΈμ HTTP μ”μ²­μ„ λ³΄λ‚΄λ” μ†ν”„νΈμ›¨μ–΄λ‚ μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‹λ³„ν•λ” μ •λ³΄λ¥Ό λ§ν•λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ›Ή λΈλΌμ°μ €, μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… λ“± λ‹¤μ–‘ν• ν•νƒλ΅ μ΅΄μ¬ν•  μ μκ³ , User Agentλ” ν•΄λ‹Ή ν΄λΌμ΄μ–ΈνΈμ μ‹λ³„ μ •λ³΄λ¥Ό ν¬ν•¨ν• λ¬Έμμ—΄λ΅ μ„λ²„μ— μ „λ‹¬λλ‹¤.

λν•, μ΄μ™€ λ³„κ°λ΅ **λ©”μΌ μ‚¬μ©μ μ—μ΄μ „νΈ(Mail User Agent, MUA)** λ” μ΄λ©”μΌ ν΄λΌμ΄μ–ΈνΈ μ†ν”„νΈμ›¨μ–΄λ΅, μ΄λ©”μΌμ„ λ³΄λ‚΄κ³  λ°›λ” λ° μ‚¬μ©λλ©°, μ΄λ©”μΌ μ‚¬μ©μμ μ”μ²­μ— λ”°λΌ μ΄λ©”μΌμ„ μ‘μ„±, λ³΄λ‚΄κΈ°, μμ‹ , μ½κΈ°, μ‚­μ  λ“±μ μ‘μ—…μ„ μν–‰ν•λ‹¤. MUAλ” μ‚¬μ©μκ°€ μ΄λ©”μΌμ„ μ‘μ„±ν•  λ• μ΄λ©”μΌμ μμ‹ μ, μ λ©, λ³Έλ¬Έ, μ²¨λ¶€ νμΌ λ“±μ„ μ…λ ¥ν•κ³ , μ‘μ„±ν• μ΄λ©”μΌμ„ λ©”μΌ μ„λ²„μ— λ³΄λ‚΄λ” μ—­ν• μ„ μν–‰ν•λ‹¤. λν•, λ©”μΌ μ„λ²„λ΅λ¶€ν„° μ΄λ©”μΌμ„ μμ‹ ν•μ—¬ μ‚¬μ©μμ λ©”μΌν•¨μ— μ΄λ©”μΌμ„ λ³΄κ΄€ν•κ³ , μ‚¬μ©μκ°€ μ΄λ©”μΌμ„ μ½κ³ , μ‚­μ ν•κ³ , μ΄λ©”μΌμ— λ‹µμ¥ν•κ³ , μ „λ‹¬ν•κ³ , λ‹¤μ–‘ν• λ©”μΌ κ΄€λ¦¬ μ‘μ—…μ„ μν–‰ν•λ‹¤. MUAλ” μ΄λ©”μΌ ν‘μ¤€ ν”„λ΅ν† μ½μΈ SMTP(Simple Mail Transfer Protocol), POP(Post Office Protocol), IMAP(Internet Message Access Protocol) λ“±μ„ μ‚¬μ©ν•μ—¬ μ΄λ©”μΌμ„ μ†΅μμ‹ ν•κ³  κ΄€λ¦¬ν•λ‹¤.

## Mail server

- λ©”μΌλ°•μ¤: μ‚¬μ©μμ μμ‹  λ©”μ‹μ§€λ¥Ό ν¬ν•¨
- λ©”μ‹μ§€ ν: λ°μ‹  λ©”μΌ λ©”μ‹μ§€μ λ€κΈ°μ—΄μ„ κ°–μ
- SMTP ν”„λ΅ν† μ½: λ©”μΌ μ„λ²„ κ°„μ— μ΄λ©”μΌ λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•κΈ° μ„ν•΄ μ‚¬μ©λ¨

## SMTP : Simple Mail Transfer Protocol ([RFC 2821](https://www.rfc-editor.org/rfc/rfc2821))

- ν¬νΈ 25λ¥Ό μ‚¬μ©ν•μ—¬ TCPλ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ μ΄λ©”μΌ λ©”μ‹μ§€λ¥Ό μ‹ λΆ°μ„± μκ² μ „μ†΅
- μ§μ ‘ μ „μ†΅: μ†΅μ‹  μ„λ²„μ—μ„ μμ‹  μ„λ²„λ΅
- μ„Έ κ°€μ§€ μ „μ†΅ λ‹¨κ³„:
    1. ν•Έλ“μ…°μ΄ν‚Ή (Greeting)
    2. λ©”μ‹μ§€ μ „μ†΅
    3. μΆ…λ£
- λ…λ Ή/μ‘λ‹µ μƒνΈμ‘μ© (HTTPμ™€ μ μ‚¬): λ…λ Ήμ€ ASCII ν…μ¤νΈλ΅ κµ¬μ„±λκ³ , μ‘λ‹µμ€ μƒνƒ μ½”λ“μ™€ λ¬Έκµ¬λ΅ κµ¬μ„±λ¨
- λ©”μ‹μ§€λ” 7λΉ„νΈ ASCIIλ΅ μ‘μ„±λμ–΄μ•Ό ν•¨

## μƒν™© : Aliceκ°€ Bobμ—κ² λ©”μ„Έμ§€λ¥Ό λ³΄λ‚Ό λ•

![AliceBob.png](AliceBob.png)
1. μ•¨λ¦¬μ¤λ” UA(μ‚¬μ©μ μ—μ΄μ „νΈ)λ¥Ό μ‚¬μ©ν•μ—¬ λ°¥μ λ©”μΌ μ£Όμ†μΈ **bob@someschool.eduμ—** λ©”μ‹μ§€λ¥Ό μ‘μ„±ν•λ‹¤.
2. μ•¨λ¦¬μ¤μ UAλ” λ©”μ‹μ§€λ¥Ό μ—λ¦¬μ¤μ λ©”μΌ μ„λ²„λ΅ λ³΄λ‚΄κ³ , λ©”μ‹μ§€κ°€ λ©”μ‹μ§€ νμ— μ €μ¥λλ‹¤.
3. SMTP ν΄λΌμ΄μ–ΈνΈλ” TCP μ—°κ²°μ„ ν†µν•΄ λ°¥μ λ©”μΌ μ„λ²„μ™€ μ—°κ²°μ„ μ—΄μ–΄μ¤€λ‹¤(Greeting).
4. SMTP ν΄λΌμ΄μ–ΈνΈλ” μ•¨λ¦¬μ¤μ λ©”μ‹μ§€λ¥Ό TCP μ—°κ²°μ„ ν†µν•΄ λ°¥μ λ©”μΌ μ„λ²„λ΅ μ „μ†΅ν•λ‹¤.
5. λ°¥μ λ©”μΌ μ„λ²„λ” λ©”μ‹μ§€λ¥Ό λ°¥μ λ©”μΌλ°•μ¤(μ„λ²„ λ‚΄λ¶€)μ— μ €μ¥ν•λ‹¤.
6. λ°¥μ€ μμ‹ μ μ‚¬μ©μ μ—μ΄μ „νΈλ¥Ό μ‹¤ν–‰ν•μ—¬ λ©”μ‹μ§€λ¥Ό μ½λ”λ‹¤.

### SMTP μƒνΈμ‘μ© μμ‹

>S: 220 hamburger.edu  
>C: HELO crepes.fr  
>S: 250  Hello crepes.fr, pleased to meet you  
>C: MAIL FROM: alice@crepes.fr  
>S: 250 alice@crepes.fr... Sender ok  
>C: RCPT TO: bob@hamburger.edu  
>S: 250 bob@hamburger.edu ... Recipient ok  
>C: DATA  
>S: 354 Enter mail, end with "." on a line by itself  
>C: Do you like ketchup?  
>C: How about pickles?  
>C: . *//.μ€ μ†΅μ‹ μμ λ©”μ‹μ§€κ°€ μ•„λ‹λΌ UAκ°€ μ¶”κ°€ν• λ©”μ‹μ§€μ„(μΆ…κ²°μ)*  
>S: 250 Message accepted for delivery  
>C: QUIT  
>S: 221 hamburger.edu closing connection  

### SMTP : final words

- SMTPλ” μ§€μ†μ—°κ²°(HTTP1.1κ³Ό μ μ‚¬)
- SMTPλ” 7-bit ASCIIμ½”λ“λ§ μ§€μ›
- SMTP μ„λ²„λ” CRLF.CRLF (μΊλ¦¬μ§€ λ¦¬ν„΄κ³Ό λΌμΈ ν”Όλ“λ΅ μ΄λ£¨μ–΄μ§„ λ¬Έμμ—΄)λ¥Ό μ΄μ©ν•μ—¬ λ©”μ‹μ§€μ λμ„ νλ‹¨ν•©λ‹λ‹¤.
- **HTTPμ™€μ λΉ„κµ :**
  λ‘ λ‹¤ ASCII λ…λ Ή/μ‘λ‹µ μƒνΈμ‘μ©κ³Ό μƒνƒ μ½”λ“λ¥Ό κ°€μ§€κ³  μμ
  HTTP: κ° κ°μ²΄λ” μμ²΄ μ‘λ‹µ λ©”μ‹μ§€μ— μΊ΅μν™”
  SMTP: μ—¬λ¬ κ°μ κ°μ²΄κ°€ λ©€ν‹°ννΈ λ©”μ‹μ§€λ΅ μ „μ†΅

### MIME

MIME(Multipurpose Internet Mail Extensions)μ€ μ΄λ©”μΌμ—μ„ λ‹¤μ–‘ν• ν•νƒμ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κΈ° μ„ν• ν‘μ¤€ μΈν„°λ„· ν”„λ΅ν† μ½μ…λ‹λ‹¤. MIMEμ„ μ‚¬μ©ν•μ—¬ μ΄λ©”μΌμ— ν…μ¤νΈ, μ΄λ―Έμ§€, λ™μμƒ, μ²¨λ¶€ νμΌ λ“± λ‹¤μ–‘ν• ν•νƒμ λ°μ΄ν„°λ¥Ό ν¬ν•¨ν•  μ μμµλ‹λ‹¤. MIMEμ€ SMTP(Simple Mail Transfer Protocol)λ¥Ό ν†µν•΄ μΈμ½”λ”©λ μ΄λ©”μΌμ„ μ „μ†΅ν•  μ μμµλ‹λ‹¤.

MIMEμ μ£Όμ” κΈ°λ¥κ³Ό μ μ•½ μ‚¬ν•­μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤:

- μ΄λ©”μΌμ—λ” ν…μ¤νΈ, μ΄λ―Έμ§€, λ™μμƒ λ“± λ‹¤μ–‘ν• ν•νƒμ λ°μ΄ν„°λ¥Ό ν¬ν•¨ν•  μ μμµλ‹λ‹¤.
- MIMEμ€ μΈμ½”λ”© λ°©μ‹μ„ ν†µν•΄ μ΄λ©”μΌ λ³Έλ¬Έμ λ°μ΄ν„°λ¥Ό ν‘ν„ν•κ³  μ „μ†΅ν•©λ‹λ‹¤.
- MIMEμ€ μ΄λ©”μΌ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ‹¤μ–‘ν• ν•νƒμ λ°μ΄ν„°λ¥Ό ν‘μ‹ν•  μ μλ„λ΅ ν•©λ‹λ‹¤.
- MIMEμ€ μ΄λ©”μΌμ—μ„ νμΌ ν•μ‹κ³Ό ν¬κΈ°μ— μ ν•μ΄ μμ„ μ μμµλ‹λ‹¤.
- μ΄λ©”μΌ ν΄λΌμ΄μ–ΈνΈλ‚ μ„λ²„μ—μ„λ” MIME ν•μ‹μΌλ΅ μ „μ†΅λλ” νμΌ ν•μ‹κ³Ό ν¬κΈ°μ— μ ν•μ„ λ‘ μ μμµλ‹λ‹¤.
## λ©”μΌ ν¬λ§· μμ‹

[μ΄ν• ν—¤λ”]

To: [receiver@example.com](mailto:receiver@example.com)  
From: [sender@example.com](mailto:sender@example.com)  
CC: [cc@example.com](mailto:cc@example.com)  
BCC: [bcc@example.com](mailto:bcc@example.com)  
Subject: Example Email Message  
Date: April 9, 2023  

---

[Blank line]

[μ΄ν• λ³Έλ¬Έ]

μ•λ…•ν•μ„Έμ”,

μ΄λ©”μΌ λ©”μ‹μ§€ μμ‹μ…λ‹λ‹¤. μ΄κ³³μ— λ³Έλ¬Έ λ‚΄μ©μ΄ λ“¤μ–΄κ°‘λ‹λ‹¤. μΌλ° ν…μ¤νΈ, HTML, μ΄λ―Έμ§€ λ“± λ‹¤μ–‘ν• ν•μ‹μ λ‚΄μ©μ„ ν¬ν•¨ν•  μ μμµλ‹λ‹¤.

μ²¨λ¶€ νμΌλ΅ μμ‹ νμΌμ„ ν•¨κ» μ „μ†΅ν•©λ‹λ‹¤. νμΌ μ΄λ¦„μ€ "example_file.pdf"μ΄λ©°, νμΌ ν¬κΈ°λ” 2MBμ…λ‹λ‹¤.

κ°μ‚¬ν•©λ‹λ‹¤.
λ³΄λ‚΄λ”μ΄

---

## λ©”μΌ μ ‘κ·Ό ν”„λ΅ν† μ½

![AccessProtocol.png](AccessProtocol.png)
λ©”μΌμ„ μ½μ„λ•λ” SMTP μ‚¬μ© λ¶κ°€ν•λ‹¤.

- POP: Post Office Protocol [RFC 1939]: μΈμ¦, λ‹¤μ΄λ΅λ“
- IMAP: Internet Mail Access Protocol [RFC 1730]: λ” λ§μ€ κΈ°λ¥, μ„λ²„μ— μ €μ¥λ λ©”μ‹μ§€ μ΅°μ‘ ν¬ν•¨
- HTTP: gmail, Hotmail, Yahoo! Mail, etc.
    - μ„ κ·Έλ¦Όμ—μ„ μ›Ήλ©”μΌμ„ μ‚¬μ©ν•  λ•λ” HTTP β†’ SMTP β†’ HTTPμμΌλ΅ ν”„λ΅ν† μ½ μ‚¬μ©λ¨(μ„λ²„κ°„μ—λ” SMTPμ‚¬μ©)

### POP3 & IMAP

- POP3 : λ©”μΌμ„ ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ μ½λ”μκ°„ ν΄λΌμ΄μ–ΈνΈλ΅ λ„μ–΄μ΄. ν•΄λ‹Ή λ©”μΌμ„ μ‚­μ ν•μ§€ μ•μ•„λ„ λ” μ΄μƒ μ„λ²„μ—μ„ ν•΄λ‹Ή λ©”μΌμ„ μ½μ„ μ μ—†μ. ν΄λΌμ΄μ–ΈνΈμ—μ„λ§ μ½κΈ° κ°€λ¥
- IMAP : λ©”μΌμ„ ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ μ½μ–΄λ„ λ©”μΌμ΄ μ„λ²„μ— λ‚¨μ•„μμ. λ‹¤λ¥Έ μ»΄ν“¨ν„°μ—μ„ μ„λ²„μ— μ ‘κ·Όν•λ©΄ λ©”μΌμ„ λ‹¤μ‹ μ½κΈ° κ°€λ¥.

```toc
```
