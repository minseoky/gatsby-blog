---
emoji: ğŸš€
title: 07.04(í™”)-1 Process
date: '2023-07-04 00:00:00'
author: ìµœë¯¼ì„
tags: OS, OpertaingSystem
categories: OperatingSystem TABA
---
> â—ï¸**ë‚ ì§œë³„ë¡œ ì •ë¦¬í•˜ì—¬ ë³µìŠµí•˜ê¸°ë¥¼ ì›í•˜ê¸° ë•Œë¬¸ì— ë‚´ìš©ì´ ê¸¸ê³  ë‹¤ì†Œ ì •ë¦¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.**
# Process Concept

## Process

![a1.png](a1.png)

### Code ì˜ì—­

**ì‹¤í–‰í•  í”„ë¡œê·¸ë¨ì˜ ì½”ë“œ**ê°€ ì €ì¥ë©ë‹ˆë‹¤. CPUëŠ” ì´ ì˜ì—­ì—ì„œ ëª…ë ¹ì–´ë¥¼ í•˜ë‚˜ì”© ê°€ì ¸ì™€ ì²˜ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤.

### Data ì˜ì—­

**ì „ì—­ë³€ìˆ˜ì™€ ì •ì ë³€ìˆ˜**ê°€ ì €ì¥ë©ë‹ˆë‹¤. ì´ ë³€ìˆ˜ë“¤ì€ í”„ë¡œê·¸ë¨ì´ ì‹œì‘ë  ë•Œ í• ë‹¹ë˜ì–´ í”„ë¡œê·¸ë¨ ì¢…ë£Œ ì‹œ ì†Œë©¸ë©ë‹ˆë‹¤.

+) ë” ìì„¸íˆ ë“¤ì–´ê°€ë©´ BSS(Block Stated Symbol) ì˜ì—­ì´ ìˆëŠ”ë°ìš”, ì´ ì˜ì—­ì—ëŠ” ì´ˆê¸°í™” ë˜ì§€ ì•Šì€ ì „ì—­ë³€ìˆ˜ê°€ ì €ì¥ë©ë‹ˆë‹¤. ì´ˆê¸°í™” ëœ ì „ì—­ë³€ìˆ˜ëŠ” Data ì˜ì—­ì— ì €ì¥ë˜ì–´ ë¹„íœ˜ë°œì„± ë©”ëª¨ë¦¬ì¸ ROMì— ì €ì¥ë˜ëŠ”ë° ì´ ë¶€ë¶„ì€ ë¹„ìš©ì´ ë§ì´ ë“¤ì–´ RAMì— ì €ì¥ë  ê²ƒê³¼ ROMì— ì €ì¥ë  ê²ƒì„ êµ¬ë¶„í•˜ê¸° ìœ„í•´ ì˜ì—­ì„ êµ¬ë¶„í•´ ì‚¬ìš©í•©ë‹ˆë‹¤.

### Stack ì˜ì—­

ì§€ì—°ë³€ìˆ˜, ë§¤ê°œë³€ìˆ˜, ë¦¬í„´ê°’ ë“±Â **ì ì‹œ ì‚¬ìš©ë˜ì—ˆë‹¤ê°€ ì‚¬ë¼ì§€ëŠ” ë°ì´í„°**ë¥¼ ì €ì¥í•˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤. í•¨ìˆ˜ í˜¸ì¶œ ì‹œ í• ë‹¹ë˜ê³  í•¨ìˆ˜ ë°˜í™˜ ì‹œ ì†Œë©¸ë©ë‹ˆë‹¤. ë¡œë“œ ì‹œ(ì»´íŒŒì¼ íƒ€ì„) í¬ê¸°ê°€ ê²°ì •ë©ë‹ˆë‹¤.

ìœ„ ì„¸ ì˜ì—­ì€ ì»´íŒŒì¼ í•  ë•Œ data, stack ì˜ì—­ì˜ í¬ê¸°ë¥¼ ê³„ì‚°í•´ ë©”ëª¨ë¦¬ ì˜ì—­ì„ ê²°ì •í•©ë‹ˆë‹¤!

### Heap ì˜ì—­

**ë™ì  ë°ì´í„° ì˜ì—­**ì…ë‹ˆë‹¤. ë©”ëª¨ë¦¬ ì£¼ì†Œ ê°’ì— ì˜í•´ì„œë§Œ ì°¸ì¡°ë˜ê³  ì‚¬ìš©ë˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤. ë”°ë¼ì„œ,Â *í”„ë¡œê·¸ë¨ ë™ì‘ ì‹œ(ëŸ°íƒ€ì„)ì— í¬ê¸°ê°€ ê²°ì •*ë©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, stackì—ì„œ pointer ë³€ìˆ˜ë¥¼ í• ë‹¹í•˜ë©´ pointerê°€ ê°€ë¦¬í‚¤ëŠ” heap ì˜ì—­ì˜ ì„ì˜ì˜ ê³µê°„ë¶€í„° ì›í•˜ëŠ” í¬ê¸°ë§Œí¼ í• ë‹¹í•´ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤.

ref:[https://velog.io/@cchloe2311/ìš´ì˜ì²´ì œ-í”„ë¡œì„¸ìŠ¤-ë©”ëª¨ë¦¬-êµ¬ì¡°](https://velog.io/@cchloe2311/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B5%AC%EC%A1%B0)

### í”„ë¡œì„¸ìŠ¤ ìƒíƒœ ì „ì´

![a2.png](a2.png)

- new : í”„ë¡œì„¸ìŠ¤ ìƒì„±
- ready : ì¤€ë¹„ íì— í”„ë¡œì„¸ìŠ¤ ë“±ë¡, ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ì— ë”°ë¼ dispatch
- running : í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰, ì¸í„°ëŸ½íŠ¸ ë°œìƒì‹œ ì¤€ë¹„ íë¡œ ì´ë™, ì…ì¶œë ¥ ì´ë²¤íŠ¸ ë°œìƒì‹œ í”„ë¡œì„¸ìŠ¤ ëŒ€ê¸°
- waiting : ì…ì¶œë ¥ ì´ë²¤íŠ¸ ì²˜ë¦¬, ì™„ë£Œ ì‹œ ì¤€ë¹„ íë¡œ ì´ë™
    - waitingì—ë„ ëŒ€ê¸° íê°€ ìˆìŒ, Deviceì— ë”°ë¼ ë‹¤ë¥¸ í
- terminated : í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ

### í”„ë¡œì„¸ìŠ¤ ì œì–´ ë¸”ë¡(PCB)

![a3.png](a3.png)

| ì´ë¦„                  | ë‚´ìš©                               |
|---------------------|----------------------------------|
| Process State       | ìƒì„±, ì¤€ë¹„, ì‹¤í–‰, ëŒ€ê¸°, ì™„ë£Œ               |
| Process number(=id) | í”„ë¡œì„¸ìŠ¤ ì‹ë³„ì                         |
| Program Counter     | í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ê°€ ë‹¤ìŒì— ì‹¤í–‰í•  Instructionì˜ ì£¼ì†Œ |
| registers           | ì‚¬ìš© ì¤‘ì¸ ë ˆì§€ìŠ¤í„° ì •ë³´                    |
| Memory limits       | ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ ê³µê°„ ì •ë³´                 |

### Context Switching

![a4.png](a4.png)

(ê·¸ë¦¼ì—ì„œ) `í”„ë¡œì„¸ìŠ¤ P0`ê°€ interrupt í˜¹ì€ system callì— ì˜í•´ ì¤‘ë‹¨ë˜ë©´ `PCB0`ì˜ ìƒíƒœë¥¼ ì €ì¥í•˜ê³ , `PCB1` ì˜ ìƒíƒœë¥¼ ë¡œë“œí•´ ì¤€ë¹„ íì—ì„œ `í”„ë¡œì„¸ìŠ¤ P1`ì„ dispatch, ì‹¤í–‰ìƒíƒœë¡œ ë³€ê²½í•œë‹¤.

`í”„ë¡œì„¸ìŠ¤ P1`ê°€ interrupt í˜¹ì€ system callì— ì˜í•´ ì¤‘ë‹¨ë˜ë©´ `PCB1`ì˜ ìƒíƒœë¥¼ ì €ì¥í•˜ê³ , `PCB0` ì˜ ìƒíƒœë¥¼ ë¡œë“œí•´ ì¤€ë¹„ íì—ì„œ `í”„ë¡œì„¸ìŠ¤ P0`ì„ dispatch, ì‹¤í–‰ìƒíƒœë¡œ ë³€ê²½í•œë‹¤.

>ğŸ’¡ idle = í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰í•˜ê³  ìˆì§€ ì•Šì€ ìƒíƒœ  
>idleì´ ê²¹ì¹˜ëŠ” ì‹œê°„ = ì˜¤ë²„í—¤ë“œ


## Operations on Processes

### Four steps of process creation

1. OS ì»¤ë„ì— PCBìƒì„±
2. ë©”ëª¨ë¦¬ ê³µê°„ í• ë‹¹
3. ë°”ì´ë„ˆë¦¬ í”„ë¡œê·¸ë¨ ë¡œë“œ
4. í”„ë¡œê·¸ë¨ ì´ˆê¸°í™”

### Process Creation

![a5.png](a5.png)

- ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤ê°€ ìì‹ í”„ë¡œì„¸ìŠ¤ ìƒì„±, íŠ¸ë¦¬ í˜•íƒœë¡œ êµ¬ì„±ë¨
- ì¼ë°˜ì ìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ëŠ” process identifier(pid)ë¥¼ í†µí•´ ì¸ì‹ë˜ê³  ê´€ë¦¬ë¨
- ìœ„ ê·¸ë¦¼ì€ Linuxì—ì„œì˜ í”„ë¡œì„¸ìŠ¤ íŠ¸ë¦¬ êµ¬ì¡°

---

- ìì›(CPU time, memory, files, I/O Devices) ê³µìœ  ì˜µì…˜ :
    - ë¶€ëª¨-ìì‹ì´ ëª¨ë“  ìì›ì„ ê³µìœ 
    - ìì‹ì´ ë¶€ëª¨ ìì›ì˜ ì¼ë¶€ë§Œ ê³µìœ 
    - ì„œë¡œ ìì›ì„ ê³µìœ í•˜ì§€ ì•ŠìŒ
- ì‹¤í–‰ ì˜µì…˜ :
    - ë¶€ëª¨-ìì‹ì´ ë™ì‹œì— ì‹¤í–‰
    - ë¶€ëª¨ê°€ ìì‹í”„ë¡œì„¸ìŠ¤ì˜ ì¢…ë£Œë¥¼ ê¸°ë‹¤ë¦¼
- Address-space possilibities for the new process :
    - ìì‹ í”„ë¡œì„¸ìŠ¤ê°€ ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤ë¥¼ ë³µì œí•¨(ë¶€ëª¨ì™€ ê°™ì€ ë°ì´í„°ë¥¼ ê°€ì§ - ì˜ˆ : ë¦¬ëˆ…ìŠ¤)
    - ìì‹ í”„ë¡œì„¸ìŠ¤ê°€ ìƒˆë¡œìš´ í”„ë¡œê·¸ë¨ì„ ë¡œë“œ(ì˜ˆ : ìœˆë„ìš°)

### fork(), exec()

fork()í•¨ìˆ˜ë¡œ ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤ê°€ ìì‹í”„ë¡œì„¸ìŠ¤ë¥¼ ìƒì„±(Linux : Duplicate), fork()ì˜ ë°˜í™˜ê°’ì€ ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤ëŠ” ì–‘ìˆ˜, ìì‹ í”„ë¡œì„¸ìŠ¤ëŠ” 0ì„ ë°˜í™˜í•¨.

ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤ëŠ” wait() í•¨ìˆ˜ë¥¼ í†µí•´ ìì‹ í”„ë¡œì„¸ìŠ¤ê°€ exit()í•¨ìˆ˜ë¥¼ í˜¸ì¶œí• ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼. ë¶€ëª¨ê°€ ë°›ëŠ” fork()ì˜ ë°˜í™˜ê°’ì€ ì´í›„ ìƒì„±ë  ìì‹í”„ë¡œì„¸ìŠ¤ì˜ pidë¥¼ ì˜ë¯¸í•¨.

fork()ì´í›„ì— ìì‹í”„ë¡œì„¸ìŠ¤ëŠ” ìì‹  ê³ ìœ ì˜ pidë¥¼ ê°€ì§. pidë¥¼ í• ë‹¹í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ ë° PolicyëŠ” OSì— ë”°ë¼ ë‹¤ë¦„

## Interprocess Communication

ì‹œìŠ¤í…œì˜ í”„ë¡œì„¸ìŠ¤ë“¤ì€ `ë…ë¦½ì `ì´ê±°ë‚˜ `í˜‘ë ¥ì `ì„

`ë…ë¦½ì ì¸ í”„ë¡œì„¸ìŠ¤`ëŠ” ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ì‹¤í–‰ì— ì˜í–¥ì„ ì£¼ê±°ë‚˜ ì˜í–¥ì„ ë°›ì„ ìˆ˜ ì—†ìŒ.

`í˜‘ë ¥ì ì¸ í”„ë¡œì„¸ìŠ¤`ëŠ” ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ì‹¤í–‰ì— ì˜í–¥ì„ ì£¼ê±°ë‚˜ ì˜í–¥ì„ ë°›ì„ ìˆ˜ ìˆìŒ.

**í˜‘ë ¥ì ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ **

- ì •ë³´ ê³µìœ 
- ì—°ì‚°ì†ë„ í–¥ìƒ
- ëª¨ë“ˆì„±
- í¸ë¦¬ì„±

>ğŸ’¡ í˜‘ë ¥ì ì¸ í”„ë¡œì„¸ìŠ¤ëŠ” ì •ë³´ ê³µìœ ë¥¼ ìœ„í•´ Interprocess communication(IPC)ë¥¼ í•„ìš”ë¡œ í•œë‹¤.


### Interprocess Communication(IPC)

**Communications Models**

![a6.png](a6.png)

- Two models of IPC
    - Message Passing(1 : send, 2 : receive)
    - Shared Memory(1 : write, 2 : read)

---

1. **Message Passing**
2. **Shared Memory(íš¨ìœ¨ì )**
    - í”„ë¡œì„¸ìŠ¤ê°„ ì†Œí†µì„ ìœ„í•´ ë©”ëª¨ë¦¬ ê³µê°„ì„ ê³µìœ í•˜ëŠ” ê²ƒ
    - OSì˜ì—­ì´ ì•„ë‹Œ User control areaì— ì˜í•´ í†µì œë¨
    - Major issue - ì–´ë–»ê²Œ ê³µìœ ëœ ê³µê°„ì— ëŒ€í•œ ë‘ í”„ë¡œì„¸ìŠ¤ì˜ í–‰ë™ì„ ë™ê¸°í™”(Synchronization)í•  ê²ƒì¸ê°€?

### Producer-Consumer Problem

- Paradigm : `producer process` ëŠ” `consumer process`ê°€ ì†Œë¹„í•  ì •ë³´ë¥¼ ìƒì‚°í•¨
- Two variations:
    - Unbound-buffer : ë¬´í•œí•œ ë²„í¼ ì‚¬ì´ì¦ˆ
        - ê³µê¸‰ìê°€ ì ˆëŒ€ ê¸°ë‹¤ë¦¬ì§€ ì•ŠìŒ
        - ì†Œë¹„ìëŠ” ì†Œë¹„í•  ë²„í¼ê°€ ì—†ë‹¤ë©´ ê¸°ë‹¤ë¦¼
    - Bounded-buffer : ìœ í•œí•œ ë²„í¼ ì‚¬ì´ì¦ˆ
        - ê³µê¸‰ìëŠ” ë²„í¼ê°€ ê°€ë“ ì°¨ë©´ ê¸°ë‹¤ë ¤ì•¼ í•¨
        - ì†Œë¹„ìëŠ” ì†Œë¹„í•  ë²„í¼ê°€ ì—†ë‹¤ë©´ ê¸°ë‹¤ë¦¼



```toc
```
